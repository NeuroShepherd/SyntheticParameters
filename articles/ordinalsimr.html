<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using {ordinalsimr} • ordinalsimr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using {ordinalsimr}">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ordinalsimr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/ordinalsimr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/coding-simulations.html">Coding Simulations</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NeuroShepherd/ordinalsimr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using {ordinalsimr}</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NeuroShepherd/ordinalsimr/blob/master/vignettes/ordinalsimr.Rmd" class="external-link"><code>vignettes/ordinalsimr.Rmd</code></a></small>
      <div class="d-none name"><code>ordinalsimr.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/NeuroShepherd/ordinalsimr" class="external-link">ordinalsimr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="shiny-app">Shiny App<a class="anchor" aria-label="anchor" href="#shiny-app"></a>
</h2>
<p>The {ordinalsimr} package wraps a Shiny application and supporting
functions for running simulation studies on several pre-selected
statistical tests applicable to ordinal data. The Shiny app is
particularly suited for calculating Power and Type II error for a
proposed 2-group comparison of an ordinal endpoint. Available parameters
to manipulate before running the tests include:</p>
<ul>
<li>Number of simulations to run (integer)</li>
<li>The sample size (integer)</li>
<li>The distribution ratio between group 1 and group 2 (ratio of form
X:X)</li>
<li>Group 1 and Group 2 distribution probabilities for levels of the
ordinal outcome</li>
</ul>
<p>In addition to these parameters for running the simulation, the
following can be adjusted in the Distributions page</p>
<ul>
<li>Filtering out the top x% of observations from view in the plot.
<em>This does not remove or alter data from any other processes. It is
only included as a convenience function for observing smaller windows of
the data.</em>
</li>
<li>Setting the alpha significance level/p-value threshold</li>
<li>Setting the confidence intervals for the Power/T2 Error
calculations</li>
<li>Setting the confidence intervals (separately) for the Type I Error
in Group 1 and Group 2</li>
</ul>
<p>Bug reports and feature requests can be submitted as issues at <a href="https://github.com/NeuroShepherd/ordinalsimr/issues" class="external-link">https://github.com/NeuroShepherd/ordinalsimr/issues</a></p>
<div class="section level3">
<h3 id="app-options">App Options<a class="anchor" aria-label="anchor" href="#app-options"></a>
</h3>
<p>If you find yourself consistently changing the default parameters of
the application to new values manually, it is possible to instead set
default values for these parameters. All available preset parameters are
prefixed with <code>ordinalsimr.</code>, but this functionality has so
far only been implemented for a limited number of defaults. Options can
be set using the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> function.</p>
<p>Example of changing the default number of rows to 6:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>ordinalsimr.default_entry_rows <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre>
<div class="section level4">
<h4 id="available-options">Available Options<a class="anchor" aria-label="anchor" href="#available-options"></a>
</h4>
<ul>
<li>
<code>ordinalsimr.default_entry_rows</code>: single integer
indicating number of rows</li>
<li>
<code>ordinalsimr.default_distributions</code>: data frame to use
for simulations.
<ul>
<li>Safety checks have not been included on this option. Input must be a
2-column data frame. Column names will be discarded. Recommend that you
ensure the sum of values in each column are <strong>near</strong> 1
(e.g. using <code><a href="https://dplyr.tidyverse.org/reference/near.html" class="external-link">dplyr::near()</a></code>).</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="planned-options">Planned Options<a class="anchor" aria-label="anchor" href="#planned-options"></a>
</h4>
<ul>
<li>
<code>ordinalsimr.default_sample_size</code>: sample size</li>
<li>
<code>ordinalsimr.default_simulations</code>: number of simulation
iterations</li>
<li>…</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="using-downloaded-data">Using Downloaded Data<a class="anchor" aria-label="anchor" href="#using-downloaded-data"></a>
</h3>
<p>Data downloaded after running a simulation is stored as a
<code>.rds</code> file, and can be loaded into your R session using
<code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code>. The data is structured as a named list with 3
elements at the top level, and several sub-elements. A summary of the
available information is available in the code below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"data-2024-02-16-049dcfcd9afdad1402588ca3a3f73f95-1.rds"</span><span class="op">)</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">comparison_data</span><span class="op">$</span><span class="va">distribution_statistics</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">output</span>, max.level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Top level items
<ul>
<li>
<code>comparison_data</code> are results from comparing Group 1
against Group 2 in the statistical tests (for TII error and power)</li>
<li>
<code>group1_data</code> are results from comparing Group 1 data
against itself (for TI error of this group)</li>
<li>
<code>group2_data</code> are results from comparing Group 2 data
against itself (for TI error of this group)</li>
</ul>
</li>
<li>Second level items
<ul>
<li>
<code>p_values</code> are tables of p-values for all of the tests
(columns) in each simulation runs (rows)</li>
<li>
<code>run_info</code> are tables of detailed metainformation about
the parameters used for each run</li>
<li>
<code>distribution_statistics</code> are tables of computed TII
error, power, and associated confidence intervals</li>
<li>
<code>distribution_plot</code> is a {ggplot2} plot of the
distributions of p-values</li>
<li>
<code>group1_t1error</code> and <code>group2_t1error</code> are
tables of TI error and associated confidence intervals</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="coding-your-own-simulations">Coding Your Own Simulations<a class="anchor" aria-label="anchor" href="#coding-your-own-simulations"></a>
</h2>
<p>This guide will provide a rough overview of how to code your own
simulations using the components of this package should you find the
Shiny application too limiting for your own purposes. Key information on
functions:</p>
<ul>
<li>
<code><a href="../reference/run_simulations.html">run_simulations()</a></code> will take simulation input parameters
and return a list. The first element contains a matrix of p-values for
each run of the simulation, while the second element is multiple lists
of information describing group allocations in detail.</li>
<li>
<code><a href="../reference/format_simulation_data.html">format_simulation_data()</a></code> is recommended for
reformatting the two list elements mentioned above. It will return a
list of two tibbles.</li>
<li>
<code><a href="../reference/calculate_power_t2error.html">calculate_power_t2error()</a></code> and
<code><a href="../reference/calculate_t1_error.html">calculate_t1_error()</a></code> can receive the p-value data frames
for performing T1 Error, Power, and T2 Error calculations with
confidence intervals. See function documentation for additional
arguments.</li>
</ul>
<div class="section level3">
<h3 id="example-power-and-type-ii-error">Example: Power and Type II Error<a class="anchor" aria-label="anchor" href="#example-power-and-type-ii-error"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulations.html">run_simulations</a></span><span class="op">(</span></span>
<span>  sample_size <span class="op">=</span> <span class="fl">80</span>,</span>
<span>  sample_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  prob0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  prob1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  niter <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">formatted_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_simulation_data.html">format_simulation_data</a></span><span class="op">(</span><span class="va">sim_results</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">$</span><span class="va">p_values</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/calculate_power_t2error.html">calculate_power_t2error</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">$</span><span class="va">p_values</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, power_confidence_int <span class="op">=</span> <span class="fl">95</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-type-i-error">Example: Type I Error<a class="anchor" aria-label="anchor" href="#example-type-i-error"></a>
</h3>
<p>To find the Type I error of a distribution, the code from before is
largely unchanged except for the fact that the probability vectors set
in <code>run_simulations</code> must now be equivalent and the
<code><a href="../reference/calculate_t1_error.html">calculate_t1_error()</a></code> function is now applied.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulations.html">run_simulations</a></span><span class="op">(</span></span>
<span>  sample_size <span class="op">=</span> <span class="fl">80</span>,</span>
<span>  sample_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  prob0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  prob1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  niter <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">formatted_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_simulation_data.html">format_simulation_data</a></span><span class="op">(</span><span class="va">sim_results</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">$</span><span class="va">p_values</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/calculate_t1_error.html">calculate_t1_error</a></span><span class="op">(</span><span class="va">formatted_results</span><span class="op">$</span><span class="va">p_values</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, t1_error_confidence_int <span class="op">=</span> <span class="fl">95</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-mapping-over-many-sample-sizes">Example: Mapping Over Many Sample Sizes<a class="anchor" aria-label="anchor" href="#example-mapping-over-many-sample-sizes"></a>
</h3>
<p>The current version of the application can only accept one sample
size at a time. A future iteration of the application will ideally
implement this feature, but, in the meantime, there are many situations
where it would be advantageous to model test results over many different
sample sizes. Depending on how big the number of iterations per sample
sizes (<code>niter</code>) and the actual number of sample sizes being
checked, it may only be practical to do this in a parallelized manner
with e.g. {furrr} or {parallel}. In any case, an example of such code is
included below:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_sizes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">sample_sizes</span>,</span>
<span>  <span class="op">~</span> <span class="fu"><a href="../reference/run_simulations.html">run_simulations</a></span><span class="op">(</span></span>
<span>    sample_size <span class="op">=</span> <span class="va">.x</span>,</span>
<span>    sample_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    prob0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>    prob1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>    niter <span class="op">=</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/format_simulation_data.html">format_simulation_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html" class="external-link">extract2</a></span><span class="op">(</span><span class="st">"p_values"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/calculate_power_t2error.html">calculate_power_t2error</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-adjust-multiple-parameters">Example: Adjust Multiple Parameters<a class="anchor" aria-label="anchor" href="#example-adjust-multiple-parameters"></a>
</h3>
<p>It is perhaps more likely that analysts will want to iterate
simulations over a variety of different parameters at once. The code
below provides a structure for creating a combination grid based on the
5 input parameters that can be altered; this example can easily be
altered to include desired parameters by replacing/removing/expanding
the listed parameters.</p>
<p>Note that the <code>prob0_list</code> and <code>prob1_list</code>
must always be of the same length <strong>and</strong> the corresponding
sub-elements of the list must also be of the same length. Put in terms
of the application, there must be a Group 2 if there is a Group 1, and
the vector representing the number of possible outcomes must be the same
length for these 2 groups.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Choose sample sizes</span></span>
<span><span class="va">sample_size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co"># Set sample distributions as a proportion c(group1, group2)</span></span>
<span><span class="va">sample_prob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.75</span>, <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Trial 1 has matching probabilities between the 2 groups. Trial 2 has non-matching probabilities</span></span>
<span><span class="va">prob0_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trial1_group1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>, trial2_group1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">prob1_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trial1_group2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span><span class="op">)</span>, trial2_group2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Number of iterations</span></span>
<span><span class="va">niter</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use tidyr::expand_grid as it creates a tibble, supporting the nested tibble structure</span></span>
<span><span class="va">info_table</span> <span class="op">&lt;-</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html" class="external-link">expand_grid</a></span><span class="op">(</span></span>
<span>  <span class="va">sample_size</span>,</span>
<span>  <span class="va">sample_prob</span>,</span>
<span>  <span class="va">prob0_list</span>,</span>
<span>  <span class="va">prob1_list</span>,</span>
<span>  <span class="va">niter</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">info_table</span></span>
<span></span>
<span><span class="co"># Calculate either Power/T2 error or T1 error depending on your specific needs</span></span>
<span><span class="va">many_sims</span> <span class="op">&lt;-</span> <span class="va">info_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/pmap.html" class="external-link">pmap</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="fu"><a href="../reference/run_simulations.html">run_simulations</a></span><span class="op">(</span></span>
<span>      sample_size <span class="op">=</span> <span class="va">..1</span>,</span>
<span>      sample_prob <span class="op">=</span> <span class="va">..2</span>,</span>
<span>      prob0 <span class="op">=</span> <span class="va">..3</span>,</span>
<span>      prob1 <span class="op">=</span> <span class="va">..4</span>,</span>
<span>      niter <span class="op">=</span> <span class="va">..5</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="../reference/format_simulation_data.html">format_simulation_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html" class="external-link">extract2</a></span><span class="op">(</span><span class="st">"p_values"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="../reference/calculate_power_t2error.html">calculate_power_t2error</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    .progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">many_sims</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pat Callahan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
